<div class="container mt-4 mb-5">
  <div class="card">
    <div class="card-header bg-primary text-white">
      <h2 class="mb-0"><i class="bi bi-plus-circle"></i> Add New Medicine</h2>
    </div>
    <div class="card-body">
      <form [formGroup]="medicineForm" (ngSubmit)="onSubmit()">
        <div class="row">
          <div class="col-md-6 mb-3">
            <label class="form-label">Medicine Name *</label>
            <input type="text" class="form-control" formControlName="name" 
                   [class.is-invalid]="submitted && f['name'].errors">
            <div *ngIf="submitted && f['name'].errors" class="invalid-feedback">
              <small *ngIf="f['name'].errors['required']">Name is required</small>
              <small *ngIf="f['name'].errors['minlength']">Name must be at least 3 characters</small>
            </div>
          </div>
          
          <div class="col-md-6 mb-3">
            <label class="form-label">Category *</label>
            <select class="form-control" formControlName="category" 
                    [class.is-invalid]="submitted && f['category'].errors">
              <option value="">Select Category</option>
              <option *ngFor="let cat of categories" [value]="cat">{{cat}}</option>
            </select>
            <div *ngIf="submitted && f['category'].errors" class="invalid-feedback">
              Category is required
            </div>
          </div>
          
          <div class="col-md-6 mb-3">
            <label class="form-label">Manufacturer *</label>
            <input type="text" class="form-control" formControlName="manufacturer"
                   [class.is-invalid]="submitted && f['manufacturer'].errors">
            <div *ngIf="submitted && f['manufacturer'].errors" class="invalid-feedback">
              Manufacturer is required
            </div>
          </div>
          
          <div class="col-md-3 mb-3">
            <label class="form-label">Price (â‚¹) *</label>
            <input type="number" class="form-control" formControlName="price"
                   [class.is-invalid]="submitted && f['price'].errors">
            <div *ngIf="submitted && f['price'].errors" class="invalid-feedback">
              Valid price required
            </div>
          </div>
          
          <div class="col-md-3 mb-3">
            <label class="form-label">Stock Quantity *</label>
            <input type="number" class="form-control" formControlName="stock"
                   [class.is-invalid]="submitted && f['stock'].errors">
            <div *ngIf="submitted && f['stock'].errors" class="invalid-feedback">
              Valid stock required
            </div>
          </div>
          
          <div class="col-md-6 mb-3">
            <label class="form-label">Expiry Date *</label>
            <input type="date" class="form-control" formControlName="expiryDate"
                   [class.is-invalid]="submitted && f['expiryDate'].errors">
            <div *ngIf="submitted && f['expiryDate'].errors" class="invalid-feedback">
              Expiry date is required
            </div>
          </div>
          
          <div class="col-md-12 mb-3">
            <label class="form-label">Description</label>
            <textarea class="form-control" formControlName="description" rows="3"
                      placeholder="Enter medicine description..."></textarea>
          </div>
          
          <div class="col-md-12 mb-3">
            <div class="form-check">
              <input type="checkbox" class="form-check-input" id="prescription" formControlName="prescription">
              <label class="form-check-label" for="prescription">
                <strong>Prescription Required</strong>
              </label>
            </div>
          </div>
        </div>
        
        <div class="mt-3">
          <button type="submit" class="btn btn-primary btn-lg" [disabled]="loading">
            <i class="bi bi-check-circle"></i> {{loading ? 'Adding...' : 'Add Medicine'}}
          </button>
          <a routerLink="/store/medicines" class="btn btn-secondary btn-lg ms-2">
            <i class="bi bi-x-circle"></i> Cancel
          </a>
        </div>
      </form>
    </div>
  </div>
</div>